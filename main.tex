\documentclass[11pt]{amsart}

% Bibliography stuff
\usepackage[doi=false,isbn=false,url=false,style=alphabetic]{biblatex}
\bibliography{citations.bib}
\DeclareFieldFormat{postnote}{#1}
\DeclareFieldFormat{multipostnote}{#1}

\input{aux/commands.tex}
\input{aux/macros.tex}
\input{aux/thms.tex}


\def\theshiftamount{2}
\let\del\partial

\begin{document}
\begin{abstract} Notes from MATH266: Motivic homotopy theory, taught at Harvard in Fall 2024. Last compiled: \today
\end{abstract}

\maketitle

\setcounter{tocdepth}{1}
{\tiny\tableofcontents{}}

% Set parskip after toc
\setlength{\parskip}{0.2em}

% 0th section is intro
\setcounter{section}{-1}

\section*{About these notes}

These are notes for a topics class taught at Harvard in Fall 2024. Notes are being updated twice a week with new lectures. Please send any and all changes to
\begin{center}
    \href{https://github.com/tbrazel/math266-motivic}{https://github.com/tbrazel/math266-motivic}
\end{center}
Thank you to Merrick Cai and Matthew Niemiro for valuable changes and suggestions!

\section{Introduction}

\subsection{Overview} What sorts of things about a ring $R$ are still true when we move to the polynomial ring $R[t]$? In other words, what sorts of things about $R$ can't be varied in a 1-parameter family?

Let's give a ton of examples! Don't stress if not all of the words are familiar, we'll break down what's happening here over the course of the semester, this is just motivation.

\begin{example} Let $R$ be a reduced ring. Then the inclusion $R \to R[t]$ induces an isomorphism after taking units\footnote{If $R$ is not reduced, say there is some $r\in R$ so that $r^2 = 0$, then $(1+rt)(1-rt) = 1$, so $1+rt\in R[t]^\times$.}
\begin{equation}\label{eqn:units-rings}
\begin{aligned}
    R^\times \xto{\sim} (R[t])^\times.
\end{aligned}
\end{equation}
Recall that the functor sending a commutative ring to its group of units is corepresented by $\Z[u,u^{-1}]$, so \autoref{eqn:units-rings} is equivalent to saying that the following map is a bijection
\begin{align*}
    \Hom_\Ring(\Z[u,u^{-1}],R) \to \Hom_\Ring(\Z[u,u^{-1}],R[t]).
\end{align*}
After taking $\Spec$ everywhere, this becomes
\begin{align*}
    \Hom_\Sch(\Spec(R),\mathbb{G}_m) \to \Hom_\Sch(\Spec(R[t]),\mathbb{G}_m).
\end{align*}
We therefore might rephrase \autoref{eqn:units-rings} as saying that $\Hom_{\Sch}(-,\mathbb{G}_m)$ is \textit{$\A^1$-invariant}, at least when we plug in something reduced.
\end{example}

\begin{example} Let $k$ be a field. Then the functor $k \to k[t_1, \ldots, t_n]$ induces an extension of scalars map
\begin{align*}
    \Mod_k &\to \Mod_{k[t_1, \ldots, t_n]} \\
    M &\mapsto M \otimes_k k[t_1, \ldots, t_n].
\end{align*}
\textbf{Serre's Problem}: Is every finitely generated $k[t_1, \ldots, t_n]$-module free?

Recall finitely generated projective $R$-modules are the same as ``algebraic vector bundles'' over $\Spec(R)$, so we're asking whether every algebraic vector bundle on $\A^n_k$ is trivial.

\textbf{Answer}: Yes (Quillen--Suslin, 1974). Quillen actually proved more-- for $R$ a PID, he proved that the every finitely generated projective $R[t]$-module is extended from an $R$-module.\footnote{%
Quillen's proof involves leveraging some previous work of Horrocks, flat descent for vector bundles, and a very clever technique he invented called \textit{patching}. Suslin's proof, which appeared in the same year, is almost completely linear algebraic, leveraging the theory of \textit{unimodular rows}.} Lindel proved shortly thereafter that every finitely generated projective $A[t]$-module is extended from an $A$-algebra, where $A$ is a smooth algebra containing a field $k$. We could read this as saying that the stack of algebraic vector bundles is $\A^1$-invariant over the category of smooth affine $k$-schemes.
\end{example}

\textbf{More general}: (Bass--Quillen conjecture) is it true that for every $R$ regular Noetherian, the map
\begin{align*}
    \Mod_R^{\text{f.g., proj}} &\to \Mod_{R[t]}^{\text{f.g., proj}} \\
    M &\mapsto M \otimes_R R[t]
\end{align*}
is essentially surjective? \textit{Still open}.

\textbf{Fundamental Theorem of Algebraic $K$-Theory} (Quillen): For $R$ regular Noetherian, we have that $R \to R[t]$ induces an equivalence\footnote{%
So Bass--Quillen is really a question about \textit{unstable} modules.}\footnote{%
The statement for $K_0$ is originally due to Grothendieck \cite[5.6.1.3]{Aravind}. The statement for $K_1$ is due to Bass--Heller--Swan \cite[5.8.2.1]{Aravind}.
}
\begin{align*}
    K(R) \xto{\sim} K(R[t]).
\end{align*}
%
In other $K$-theory is \textit{$\A^1$-invariant} for regular Noetherian rings (regular Noetherian schemes, more generally).

\begin{example} If $X = \Spec(R)$ or more generally $X$ is a scheme, then the map $\pi \colon X \times \A^1 \to X$ induces an isomorphism on Chow groups (see for instance \cite[3.3]{Fulton})
\begin{align*}
    \pi^\ast \colon \CH_\ast(X) \xto{\sim} \CH_{\ast+1}(X \times \A^1).
\end{align*}
\end{example}

\begin{example} Let $X = \Spec(R)$ where $R$ is normal and Noetherian.\footnote{%
We can get away with weaker assumptions on this, for example in \cite[3.7.13]{Aravind} it is only assumed that $R$ is a locally factorial Noetherian normal domain.
}
Then every line bundle on $X \times \A^1$ is extended from a line bundle on $X$, in other words $X \times \A^1 \to X$ induces an isomorphism
\begin{align*}
    \Pic(X) \xto{\sim} \Pic(X \times\A^1).
\end{align*}
\end{example}

\begin{example} We can also show $\A^1$-invariance for the Picard group over a PID. Let $R$ be a PID, then it is a UFD, and we can show that $\Pic(R) = 0$, and therefore $\Pic(R[t_1, \ldots, t_n])=0$.
\end{example}




\begin{example} \cite[3.7.1.5]{Aravind}
Check this doesn't hold for all rings, for example $R = k[x,y]/(y^2-x^3)$.
\end{example}

\begin{definition} An \textit{inner product space} over a ring $R$ is a finitely generated productive $R$-module $M$ and a symmetric bilinear form $\beta \colon M \times M \to R$ for which $m \mapsto \beta(-,m)$ defines an isomorphism $M \cong M^\ast$.
\end{definition}


\begin{theorem} (Harder's Theorem, VII.3.13 in Lam's book on Serre's problem) Let $k$ be a field. Then every inner product space over $k[t]$ is extended from an inner product space over $k$.
\end{theorem}

\begin{remark} The stable analogue of this has to do with $\A^1$-invariance of Hermitian $K$-theory [reference needed].
\end{remark}



Algebraic vector bundles are $\GL_n$-torsors (we will talk about torsors in more detail next week), so the Bass--Quillen conjecture is really asking about $\A^1$-invariance of torsors over affine schemes. We could ask an analogous question about $G$-torsors for any $G$. Here's an example result in this direction that we'll see later in the semester:

\begin{theorem} \cite[1.3]{AHW3} If $k$ is a field, and $G$ is an isotropic reductive group scheme, then $G$-torsors in the Nisnevich site are $\A^1$-invariant over any smooth affine $k$-scheme.
\end{theorem}

\subsection{$\A^1$-homotopy theory}

Recall from algebraic topology that $X \times [0,1] \to X$ is a weak homotopy equivalence, which implies that any cohomology theory is insensitive to taking a product with an interval, e.g. for $H^\ast(-,\Z)$ integral cohomology we get
\begin{align*}
    H^\ast(X,\Z) \xto{\sim} H^\ast(X \times [0,1],\Z).
\end{align*}
In fact this type of homotopy invariance is an axiom of generalized Eilenberg--Steenrod cohomology theories.

\begin{example} Let $k \subseteq \C$ be a subfield of the complex numbers. Then there is a \textit{Betti realization} functor
\begin{align*}
    \Var_k &\to \Top \\
    X &\mapsto X(\C)
\end{align*}
sending a variety to its underlying analytic space. Note that
\begin{align*}
    X \times \A^1_k &\mapsto (X \times \A^1_k)(\C) = X(\C) \times \C.
\end{align*}
Therefore any homotopy invariant functor out of spaces provides another example of an $\A^1$-invariant functor out of $k$-varieties, for example
\begin{align*}
    X &\mapsto H^\ast(X(\C);\Z) \\
    X &\mapsto \pi_\ast (X(\C)).
\end{align*}
\end{example}


\textbf{Q}: Can we build a homotopy theory of algebraic varieties in which the affine line $\A^1$ plays the role that the interval $[0,1]$ plays in classical topology?

\textbf{A}: Yes! This is what's known as \textit{$\A^1$-homotopy theory} or \textit{motivic homotopy theory}. This dates back to Morel and Voevodsky's seminal work in 1999, but many ideas date back to work of Karoubi--Villamayor, Jardine, Weibel in the 1980's, work of Brown, Gersten, Illusie and Joyal in the 1970's, and of Quillen and Grothendieck in the 1960's.

\textbf{Q}: What can we do with motivic homotopy theory?

\textbf{A}: Motivic homotopy theory blends algebraic geometry and topology in a beautiful way, allowing us to do many things. A short list is:
\begin{itemize}
    \item we obtain a natural home for these kinds of $\A^1$-invariant cohomology theories of varieties, and can study them in a method analogous to algebraic topology (e.g. we can classify cohomology operations, use fiber sequences to carry out computations, unify various spectral sequences, etc.)
    \item we have access to obstruction theory for classifying torsors over affine varieties --- recent success in this direction is Asok--Bachmann--Hopkins' resolution of Murthy's conjecture
    \item we can eliminate differentials in the Adams spectral sequence via looking at their motivic depth (citation needed)
\end{itemize}

\textbf{Q}: What techniques will we learn in this class?

\textbf{A}: We should be able to do the following things:
\begin{itemize}
    \item learn descent and torsors more thoroughly, and unify perspectives on sheaves and stacks using higher categorical language
    \item work with $\infty$-categories at a very basic level
    \item learn how to work with motivic spaces and do computations
    \item learn motivic obstruction theory and its applications
\end{itemize}

\subsection{A bit more about these notes}

\begin{remark} \textit{(Transparency about pedagogy)} We're going to place affine representability on the horizon and keep our eyes fixed on it in order to motivate the category of motivic spaces. This is of course ahistorical--- although affine representability was one of the key early results explored by Morel, motivic spaces and spectra were developed in order to house theories such as algebraic $K$-theory, Bloch's higher Chow groups, and to grow new theories such as algebraic cobordism. We chose this route for a few reasons:
\begin{enumerate}
    \item The Fall 2024 Thursday seminar is on the motivic Steenrod algebra, so we're hoping this class will contrast nicely and provide some foundational background in techniques in motivic obstruction theory.
    \item In order to tailor the course to a broader audience, we'd like to unify the class around a key question which has general appeal, so we've picked the classification of torsors over affine varieties using motivic methods as such a question. This has certain advantages, for instance we can pause in the sheaf topos and discuss classifying torsors there before building motivic spaces --- this vista is useful to people across many fields.

    \item This forces us to spend a bit longer on descent and torsors, two words which strike fear in the heart of many, and are worth investing some more time in.
\end{enumerate}
\end{remark}

\begin{remark} \textit{(On background)} We're assuming a strong handle of algebraic geometry and category theory, and a fair bit of familiarity with commutative algebra and homotopy theory. We'll see very quickly that $\infty$-categories (and/or model categories) are needed in order to develop the setting in which we wish to work. We've elected to take the $\infty$-categorical approach, since it streamlines many of the constructions and key ideas, at the cost of being a high technical investment; for this reason we've done our best to make the $\infty$-categorical machinery easy to black box. The reader should be aware that while the categorical language will be heavy in the first half of these notes, it will quickly fade into the background as we become familiar with the ambient setting we're working in and can set our focus towards computations.
\end{remark}

\newpage
\section{\sectionheader Torsors}

\begin{assumption} For this lecture, every time we say ``cover'' you can assume we are working with Zariski covers, or even open covers of topological spaces, since the intuition will be the same and the results here will be mostly identical. If you know about other topologies, the statements here work for any site. We will go into sheaves and sites more next week, when we will remark that everything here works for other nice sites (\'etale, Nisnevich, flat, etc.).
\end{assumption}

\begin{definition} Let $G$ be a group. Then a $G$-set $X$ is called a \textit{torsor} if its $G$-action is simple and transitive. Equivalently, the map

\begin{equation}\label{eqn:torsor-G-set}
\begin{aligned}
    G \times X &\to X \times X \\
    (g,x) &\mapsto (x,gx)
\end{aligned}
\end{equation}
is a bijection.
\end{definition}

Note there are two types of $G$-torsors --- sets of the form $G/e$, and the empty set. Depending on the convention, we might want to exclude the case of the empty set by including $X \ne \emptyset$ in the definition.

\begin{intuition} A $G$-torsor is like a group $G$ which has remembered its multiplication but forgotten its identity. Any choice of basepoint $x\in X$ yields a canonical bijection $G \xto{\sim} X$ by sending $g \mapsto g\cdot x$.
\end{intuition}

\begin{example} In a locally small category $\mathscr{C}$, given two objects $x,y \in \mathscr{C}$, the set of isomorphisms $\mathrm{Isom}_{\mathscr{C}}(x , y)$ is a left $\Aut_{\mathscr{C}}(x)$-torsor and a right $\Aut_{\mathscr{C}}(y)$-torsor.
\end{example}


Let's try to extend this definition to the setting where $G$ isn't a single group, but a \textit{sheaf of groups} $\mathcal{G}$ on a site. What is the appropriate analogue of a torsor in this setting? By abuse of notation we will also call this a \textit{torsor}.

\begin{definition}\label{def:torsor} 
\cite[03AH]{Stacks} Let $\mathcal{G}$ be a sheaf of groups on $X$, and let $\Shv_\mathcal{G}(X)$ denote the category of $\mathcal{G}$-sheaves, meaning sheaves of sets equipped with a $\mathcal{G}$-action, and equivariant morphisms between them. We define the category of $\mathcal{G}$\textit{-torsors} $\Tors_\mathcal{G}(X) \subseteq \Shv_\mathcal{G}(X)$ to be the full subcategory on those $\mathcal{F}$ so that
\begin{enumerate}
    \item if $\mathcal{F}(U)$ is non-empty then the action
    \begin{align*}
        \mathcal{G}(U) \times \mathcal{F}(U) \to \mathcal{F}(U)
    \end{align*}
    is simply transitive.\footnote{This means that in the category of $\mathcal{G}(U)$-sets, we have that $\mathcal{F}(U) \cong \mathcal{G}(U)$, but $\mathcal{F}(U)$ doesn't have a group structure --- we might imagine that it has forgotten its identity element. Picking a basepoint $e\in \mathcal{F}(U)$ defines a group structure on $\mathcal{F}(U)$.} 
    
    \item there exists a covering $\left\{ U_i \to X \right\}$ over which $\mathcal{F}(U_i) \ne \emptyset$.\footnote{In other words, we can find a cover in which to visualize $\mathcal{F}(U_i)$ as a group for each $i$.}
\end{enumerate}
\end{definition}

\begin{terminology} The choice of topology comes into play in that second point. If $\mathcal{F} \in \Shv_{\mathcal{G}}(X)$, we say it is $\tau$\textit{-locally trivial} if $\mathcal{G}$ is a $\tau$-sheaf of groups, $\mathcal{F}$ is a $\tau$-sheaf of sets, and point (2) holds for any $\tau$-cover.
\end{terminology}


\begin{example} The sheaf $\mathcal{G}$, acting on itself by scaling, is called the \textit{trivial} $\mathcal{G}$-torsor.
\end{example}

\begin{example} For any group scheme $G$, we will refer to $G$\textit{-torsors}, mean torsors the representable functor $\Hom(-,G)$.
\end{example}

\begin{proposition}\label{prop:torsor-trivial-iff-global-section} 
A $\mathcal{G}$-torsor $\mathcal{F}$ on $X$ is trivial if and only if $\mathcal{F}(X) \ne \emptyset$, i.e. if it admits a global section.
\end{proposition}



\begin{theorem} Every morphism in $\Tors_G(X)$ is an isomorphism.
\end{theorem}

So what are some examples of torsors, and why might we care to classify them?

\begin{example}\label{exa:galois-field-extn-torsor} 
If $L/k$ is a Galois field extension then $\Spec(L) \to \Spec(k)$ is a $\Gal(L/k)$-torsor in the \'etale topology.
\end{example}
\begin{itemize}
\item \textit{the inverse Galois problem}: which groups $G$ occur as Galois groups of number fields? This is asking to scratch the surface of understanding $G$-torsors over $\Spec(\Q)$ for all finite groups $G$.
\end{itemize}

\begin{example} A $\GL_n$-torsor (say, in the Zariski topology) is an algebraic vector bundle.
\end{example}
\begin{proof} Since $\GL_n$ is affine, every torsor is representable, hence $\GL_n$-torsors are just principal $\GL_n$-bundles, which are precisely algebraic vector bundles.
\end{proof}
\begin{itemize}
    \item \textit{Bass--Quillen conjecture}: this can be reframed as asking whether each $\GL_n$-torsor over a regular Noetherian ring is trivial
    \item \textit{Hartshorne's conjecture} concerns $\GL_2$-torsors over $\P^n$ for $n\ge7$
\end{itemize}

\begin{example} A $\PGL_n$-torsor is a Brauer--Severi variety (or a central simple algebra).
\end{example}
\begin{itemize}
    \item the \textit{period-index conjecture} then concerns the complexity of $\PGL_n$-torsors.
\end{itemize}

\begin{goal} Develop methods to classify torsors.
\end{goal}





Let's do this, by first considering an alternative perspective on what a torsor is. We learned this from Alex Youcis' excellent note on torsors \cite{Youcis}.

\subsection{Sheaves and stacks}

Recall if $\mathscr{F}$ is a sheaf of sets, this means for every cover $\left\{ U_i \to U \right\}$, we have that the diagram is an equalizer
\begin{align*}
    \mathcal{F}(U) \to \prod \mathcal{F}(U_i) \rightrightarrows \prod_{i,j} \mathcal{F}(U_i \times_U U_j).
\end{align*}
This first map is a monomorphism (injection) because it is an equalizer. This means that if $x,y \in \mathcal{F}(U)$ are equal in $\mathcal{F}(U_i)$ for each $i$, then they are equal in $\mathcal{F}(U)$. In other words, the map ``reflects equality'' --- this is literally just what it means for something to be an injection.

Let's suppose now that $\mathcal{F}(U)$ is a \textit{category} for every $U$. We'll define this concretely soon once we have more machinery, but for now let's just pretend that we know what this means --- it means we can glue objects and morphisms along covers. Consider the analogous restriction functor:
\begin{align*}
    \mathcal{F}(U) &\to \prod \mathcal{F}(U_i) \\
    x &\mapsto \left( x|_{U_i} \right)_i.
\end{align*}
%
\textbf{Q}: Does this map need to reflect isomorphisms?\footnote{A functor which reflects isomorphisms is called \textit{conservative}.}

\begin{example} Let $\mathcal{F}$ be the functor sending $U$ to the category of line bundles over $U$. If the cover is picked appropriately small, then all line bundles are isomorphic to the trivial line bundle over $U_i$, but they need not be isomorphic globally as line bundles over $U$.
\end{example}

\textbf{A}: No, by the example above. This means that we can have $x,y \in \mathcal{F}(U)$ so that $x|_{U_i} \cong y|_{U_i}$ for each $i$, but we \textit{do not have} that $x$ and $y$ are isomorphic in the category $\mathcal{F}(U)$. In other words, the following two notions are \textit{different}.
\begin{itemize}
    \item $x$ and $y$ agree \textit{globally}, meaning $x$ and $y$ are isomorphic in $\mathscr{F}(U)$.
    \item  $x$ and $y$ agree \textit{locally}, meaning there exists an open cover $\left\{ U_i \to U \right\}$ for which we have isomorphisms $\left. x \right|_{ U_i } \xto{\sim} \left. y \right|_{ U_i }$ in $\mathcal{F}(U_i)$.\footnote{%
    The notation $x|_{U_i}$ is shorthand for the image of $x$ under the restriction functor $\mathcal{F}(U) \to \mathcal{F}(U_i)$
    }
\end{itemize}


\begin{remark} This is a big difference between sheaves of sets (or 1-categories in general) and sheaves of categories (also called \textit{stacks}). Equality is reflected along a cover for sheaves of sets, but isomorphism is not necessarily reflected along a cover.
\end{remark}

\begin{question} How many isomorphism classes of objects $y\in \mathcal{F}(U)$ are \textit{locally isomorphic} to $x$ along a cover, but not globally isomorphic?
\end{question}

We're going to build a sheaf that measures this! We'll call this sheaf $\Aut_{\mathcal{F}}(x)$, and it is defined by
\begin{equation}\label{eqn:autx-torsor}
\begin{aligned}
    U_i &\mapsto \Aut_{\mathscr{F}(U_i)}(x).
\end{aligned}
\end{equation}
\begin{exercise} This is a priori just a presheaf of groups. Check it is actually a sheaf of groups.
\end{exercise}

Recall the following definition.

\begin{definition}\label{def:cech-cover-cohomology} 
Let $\mathcal{G}$ denote a sheaf of groups over $U$ and $\mathcal{U} = \left\{ U_i \to U \right\}$ a cover.
\begin{enumerate}
    \item We define a \textit{\v{C}ech 1-cocycle} to be a collection of elements $g_{ij} \in \mathcal{G}(U_i \times_U U_j)$ for each $i,j$ so that
\begin{align*}
    g_{ij}g_{jk} = g_{ik}
\end{align*}
on triple overlaps.\footnote{See e.g. \cite[\S11]{MilneLEC}.}
    \item We say two 1-cocycles $(g_{ij})$ and $(\gamma_{ij})$ are cohomologous if there are $\alpha_i \in \mathcal{G}(U_i)$ for each $i$ so that
    \begin{align*}
        \alpha_i g_{ij} = \gamma_{ij} \alpha_j.
    \end{align*}
    \item We define the \textit{Cech cohomology} $\check{H}^1(U,\mathcal{G})$ to be the colimit of the \v{C}ech cohomology over covers, filtered with respect to refinement.
\end{enumerate}
\end{definition}

\begin{theorem} There is a bijection between $H^1(U,\Aut_{\mathcal{F}}(x))$ and isomorphism classes of objects $y\in \mathscr{F}(U)$ which are locally isomorphic to $x$.
\end{theorem}
\begin{proof} Let's first define a map. If $y$ is locally isomorphic to $x$, then there is a cover $\left\{ U_i \right\}$ of $U$ and isomorphisms $\phi_i \colon \left. x \right|_{ U_i } \xto{\sim} \left. y \right|_{ U_i }$ for each $i$. If the $\phi_i$'s agreed on overlaps then they would glue to a global isomorphism $\phi \colon x \xto{\sim} y$ because $\Aut(x)$ is a sheaf of groups, so it makes sense to look on overlaps to see what happens. Note that $\left. \phi_i \right|_{ U_{ij} }$ and $\left. \phi_j \right|_{ U_{ij} }$ will differ by an automorphism of $\left. x \right|_{ U_{ij} }$, call this $g_{ij}$:
\begin{align*}
    g_{ij} := \left( \left. \phi_i \right|_{ U_{ij} } \right)^{-1} \left( \left. \phi_j \right|_{ U_{ij} } \right) \colon \left. x \right|_{ U_{ij}  }\xto{\sim} \left. x \right|_{ U_{ij} }.
\end{align*}
On triple overlaps, it is straightforward to verify that
\begin{align*}
    g_{ij}g_{jk} = g_{ik}.
\end{align*}
In other words we get a 1-cocycle! There was ambiguity here, since we \textit{picked} isomorphisms $x|_{U_i} \xto{\sim} y|_{U_i}$ as our starting data. The remaining thing to prove is that any other choice of local isomorphisms gives rise to a cohomologous 1-cocycle.

Suppose we instead picked some $\psi_i \colon x|_{U_i} \xto{\sim} y|_{U_i}$ for each $i$, yielding $\gamma_{ij} = \psi_j^{-1}\psi_i $. Then $\psi_i$ and $\phi_i$ differ by an automorphism of $y$ which we call $\alpha_i$:
\[ \begin{tikzcd}
    x|_{U_i}\ar[rr,"\phi_i"]\ar[dr,"\alpha_i" below left] &  & y|_{U_i}\\
     & x|_{U_i}\ar[ur,"\psi_i" below right] & 
\end{tikzcd} \]
%
Then on $U_{ij}$ we have
\begin{align*}
    g_{ij} &= \phi_i^{-1} \phi_j = \left( \psi_i \alpha_i \right)^{-1} \left( \psi_j \alpha_j \right) = \alpha_i^{-1} \psi_i^{-1}\psi_j \alpha_j.
\end{align*}
Hence
\begin{align*}
    \alpha_i g_{ij} = \gamma_{ij}\alpha_j
\end{align*}
And we get cohomologous 1-cocycles.
\end{proof}



\begin{theorem} There is a bijection between isomorphism classes of $\mathcal{G}$-torsors and $\check{H}^1(U,\mathcal{G})$.
\end{theorem}
\begin{proof}[Sketch] Let $\mathcal{F}$ be a $\mathcal{G}$-torsor, and pick $s_i \in \mathcal{F}(U_i)$ for each $i$. Then on the overlap $U_i \times_U U_j$, we have that $s_i$ and $s_j$ differ by a unique element $g_{ij}\in \mathcal{G}(U_i \times_U U_j)$. We run basically an identical argument.
\end{proof}

So if $\mathcal{G} = \Aut_{\mathcal{F}}(x)$ then we have a bijection
\begin{align*}
    \left\{ \substack{\text{iso classes of }y\in \mathcal{F}(U) \\ \text{locally isomorphic to }x} \right\} \leftrightarrow \check{H}^1(U,\Aut_{\mathcal{F}}(x)) \leftrightarrow \left\{ \Aut_\mathcal{F}(x)\text{-torsors} \right\}.
\end{align*}

These sorts of arguments are compatible with refinement of the cover, and since \v{C}ech and sheaf cohomology agree we see that $G$-torsors are in bijection with the first sheaf cohomology $H^1(U,G)$.


%
\begin{exercise}\label{exer:every-sheaf-of-groups-is-aut} 
Show that every sheaf of groups $\mathcal{G}$ is of the form $\Aut_\mathcal{F}(x)$ for some sheaf of categories $\mathcal{F}$.
\end{exercise}

\begin{intuition} A $\mathcal{G}$-torsor is an object whose automorphisms locally look like $\mathcal{G}(U_i)$.
\end{intuition}

\subsection{Interlude: representable $G$-torsors}

When both the presheaf $\mathcal{G}$ and the sheaf of sets $\mathcal{F}$ are representable, we get a slightly different characterization. 

\begin{setup}\label{set:representable-torsor-and-group-scheme} Suppose $\mathscr{C} = \Sch_X$ is a site of schemes over $X$, and let $G \in \Grp(\Sch_X)$ be a group scheme over $X$. Suppose $\mathcal{G} = \Hom_X(-,G)$ is a representable sheaf of groups, and let $\mathcal{F} = \Hom_X(-,Y)$ for some $Y\in \Sch_X$, where $Y$ comes equipped with a $G$-action.
\end{setup}

In this setup, what does it mean in this case for $\mathcal{F}$ to be a $\mathcal{G}$-torsor?

Condition (1) from \autoref{def:torsor} asks that
\begin{align*}
    \Hom_X(U,G) \times \Hom_X(U,Y) \to \Hom_X(U,Y)
\end{align*}
to be simply transitive for every $U\in \Sch_X$. This seems a bit tedious to check, but the following result gives us a cleaner characterization of it, which is a sheafy version of \autoref{eqn:torsor-G-set}.

\begin{proposition} \cite[0499]{Stacks} In \autoref{set:representable-torsor-and-group-scheme} the following two conditions are equivalent:
\begin{enumerate}
    \item The map
    \begin{align*}
        G \times_X Y &\to Y \times_X Y \\
        (g,y) &\mapsto (y,gy)
    \end{align*}
    is an isomorphism of $X$-schemes.
    
    \item For every $U \in \Sch_X$, the induced action
    \begin{align*}
        \Hom_X(U,G) \times \Hom_X(U,Y) \to \Hom_X(U,Y)
    \end{align*}
    is simply transitive.
\end{enumerate}
\end{proposition}

What about condition (2) from \autoref{def:torsor}? This condition translates, in \autoref{set:representable-torsor-and-group-scheme}, to asking for a cover $\left\{ U_i \to X \right\}$ for which $\Hom_X(U_i,Y)\ne \emptyset$ for each $i$. Pick any $s_i \in \Hom_X(U_i,Y)$, then it makes the diagram commute:
\[ \begin{tikzcd}
     & Y\dar\\
    U_i\rar\ar[ur,"s" above left] & X.
\end{tikzcd} \]
Then the pullback torsor $Y \times_X U_i \to U_i$ admits a section, which implies it is trivial by \autoref{prop:torsor-trivial-iff-global-section}:
\[ \begin{tikzcd}
    Y\times_X U_i\dar\rar\pb & X\dar\\
    U_i\rar\uar[dashed,bend left=30] & X.
\end{tikzcd} \]
%
We summarize these observations in the following proposition.

\begin{proposition}\label{prop:principal-G-bundle} 
Let $X$ be a scheme, let $G$ be a group scheme over $X$, and let
\begin{align*}
    f \colon Y \to X
\end{align*}
be an $X$-scheme equipped with a $G$-action. Then $Y$ is a $G$-torsor if and only if
\begin{enumerate}
    \item The map $G \times_X Y \to Y \times_X Y$ is an isomorphism of $X$-schemes.
    \item There exists a cover $\left\{ U_i \to X \right\}$ for which $Y \times_X U_i \to U_i$ is isomorphic to the trivial $G$-torsor over $U_i$.
\end{enumerate}
In this setting, we call $Y \to X$ a \textit{principal $G$-bundle}.
\end{proposition}

\begin{example} Let's double back to \autoref{exa:galois-field-extn-torsor} and actually prove that $\Spec L \to \Spec k$ is a principal $\Gal(L/k)$-bundle in the \'etale site when $L/k$ is a Galois field extension.
\end{example}
\begin{proof} We check the conditions from \autoref{prop:principal-G-bundle}. The first condition asks that
\begin{align*}
    \left(\coprod_{g\in G} \Spec(k) \right) \times_{\Spec(k)} \Spec (L) \to \Spec(L) \times_{\Spec k} \Spec(L)
\end{align*}
is an equivalence. Since everything in sight is affine, we can rephrase this as asking for the map
\begin{align*}
    \prod_{g\in G} L &\from L \otimes_k L \\
    (x \cdot g(y))_{g\in G} &\mapsfrom x \otimes y
\end{align*}
to be an equivalence, which we recall is the \textit{normal basis theorem} from Galois theory. The second condition from \autoref{prop:principal-G-bundle} asks us to find a cover of $\Spec(k)$ trivializing $\Spec(L) \to \Spec(k)$, but if we work in the \'etale site, then $\Spec(L) \to \Spec(k)$ is itself a cover, and it is clear that the product induces a section
\[ \begin{tikzcd}
    \Spec(L \otimes_k L)\dar\rar\pb & \Spec(L)\dar\\
    \Spec(L)\rar\uar[dashed,bend left=30] & \Spec(k).
\end{tikzcd} \]
Hence we have a trivialization, and hence a principal $\Gal(L/k)$-bundle (a $\Gal(L/k)$-torsor).
\end{proof}


Often it's just enough to assume the sheaf of groups is representable to get all torsors are representable.

\begin{proposition}\label{prop:affine-gp-torsors-representable} 
Let $G$ be an affine group scheme over $X$, and let $\tau\le \fppf$. Then every $G$-torsor is representable. (see \cite[0497]{Stacks}, \cite[3.25]{Youcis})
\end{proposition}
\begin{proof}[Sketch] Every $G$-torsor is an algebraic space, and algebraic spaces which are locally affine are schemes. Since a $G$-torsor is locally isomorphic to $G$, which was assumed to be affine, then we conclude every torsor is actually a scheme.
\end{proof}


\begin{terminology} A representable fpqc-torsor for $G$ is called a \textit{principal homogeneous space}.
\end{terminology}


\begin{remark} If $t \le \tau$, then every $t$-cover is a $\tau$-cover, hence if we can find a $t$-cover trivializing a $G$-torsor, then it also trivializes it in the $\tau$-topology. hence
\begin{align*}
    t\le \tau \Rightarrow \left\{ t\text{-torsors} \right\} \subseteq \left\{ \tau \text{-torsors} \right\}.
\end{align*}
\end{remark}
So a very natural question is \textit{how do we tell when a $\tau$-torsor is also a $t$-torsor?} We'll discuss this next week.


\subsection{Interlude: representability of torsors in topology}

So it's a very reasonable goal to ask for any tools that could help us try to classify torsors. A natural idea, by analogy, is to look to homotopy theory, where we have a suite of tools for studying torsors.

\begin{definition} Let $X$ be a compact Hausdorff topological space and $G$ a group. Then a \textit{principal $G$-bundle} (or we might just say a $G$-torsor) is a fiber bundle $\pi \colon Y \to X$ so that $G$ acts freely and transitively on the fibers.
\end{definition}

In topology there is a \textit{universal $G$-torsor}, which is denoted $EG \to BG$. This is universal in the sense that, given any map $f \colon X \to BG$, we can consider the fiber product
\[ \begin{tikzcd}
    f^\ast EG\rar\dar\pb & EG\dar\\
    X\rar["f" below] & BG.
\end{tikzcd} \]
Then $f^\ast EG \to X$ is a principal $G$-bundle, and all principal $G$-bundles are obtained in this way. Not only that, but isomorphic principal $G$-bundles are given by homotopic classifying maps. In other words we have a bijection
\begin{align*}
    \Prin_G(X) \leftrightarrow \left[ X,BG \right].
\end{align*}
%
So the data of a principal $G$-bundle is the data of a map $X \to BG$, and an isomorphism of principal $G$-bundles is equivalent to a homotopy between two maps $f,g \colon X \to BG$.

\begin{example} We have that $B(\Z/2) =\RP^\infty$ and $E\Z/2 = S^\infty$, so that $\Z/2$-torsors are real line bundles. Similarly $B\C^\times = \CP^\infty$.
\end{example}

A big example comes from quotienting out by a compact subgroup:

\begin{theorem} (Samelson, 1941) If $H \le G$ is a compact subgroup of a Lie group, then $G \to G/H$ is a Serre fibration and principal $H$-bundle.
\end{theorem}

\begin{corollary} We have fiber sequences
\begin{align*}
    H \to G \to G/H \\
    G/H \to BH \to BG.
\end{align*}
\end{corollary}

\begin{example} For the inclusions $O(n) \subseteq O(n+1)$ and $U(n) \subseteq U(n+1)$ we get fiber sequences
\begin{align*}
    S^{2n+1} \to \BU(n) \to \BU(n+1) \\
    S^n \to \BO(n) \to \BO(n+1).
\end{align*}
\end{example}
This is how Bott periodicity is proved.



\subsection{Why we like representability of torsors}





This has a number of huge applications:
\begin{itemize}
    \item Given any cohomology theory $E^\ast$ and any class $c\in E^\ast(BG)$, if $f^\ast(c) \ne g^\ast(c)$ in $E^\ast(X)$, this means that $f$ and $g$ correspond to non-isomorphic torsors. This the basic idea of characteristic classes.
\end{itemize}

\begin{example} If $G = \GL_n(\C)$, then $\BGL_n(\C) = \BU(n) = \Gr_\C(n,\infty)$ is a Grassmannian of $n$-planes in $\C^\infty$. A map $f \colon X \to \Gr_\C(n,\infty)$ gives a complex $n$-dimensional vector space by pullback.
\end{example}

\begin{theorem} (Pontryagin--Steenrod) There is a bijection
\begin{align*}
    \Vect_\C^n(X) \cong \left[ X, \BU(n) \right].
\end{align*}
Since $H^\ast(\BU(n);\Z) = \Z[c_1, \ldots, c_n]$, if $E \to X$ is any rank $n$ vector bundle classified by a map $f \colon X \to \BU(n)$, then its Chern classes are by definition $c_i(E) = f^\ast c_i$.
\end{theorem}

\begin{itemize}
    \item We have access to \textit{obstruction theory} -- this lets us break down lifting problems into smaller manageable stages.
\end{itemize}

\begin{example} If $X$ is a complex $n$-dimensional manifold, and $E \to X$ is a rank $n$ complex vector bundle, then it splits off a free summand if and only if $c_n(E) = 0$.
\end{example}

\begin{example} If we fix $c_1, \ldots, c_n \in H^{\ast}(X;\Z)$, we can ask how many isomorphism classes of complex rank $n$ vector bundles on $X$ have these given Chern classes. Since $c_i \in H^{2i}(X;\Z) = \left[ X, K(\Z,2i) \right]$ this is equivalent to asking how many lifts there are for
\[ \begin{tikzcd}
     & \BU(n)\dar\\
    X\ar[ur,dashed]\rar["{c_1, \ldots, c_n}" below] & {\prod_i K(\Z,2i)}.
\end{tikzcd} \]
If $X$ is a finite CW complex, there are only finitely many such lifts by basic obstruction theory.
\end{example}



\begin{itemize}
    \item Suppose we have two groups $G$ and $K$, and we want to study natural ways to create $K$-torsors out of $G$-torsors over any space. Then representability, combined with the Yoneda lemma, allows us to completely classify all the ways to do this. 
\end{itemize}

\begin{example} There is one and only one natural non-trivial function
\begin{align*}
    \left\{ \GL_n(\R)\text{-torsors} \right\} \to \left\{ (\Z/2)\text{-torsors} \right\},
\end{align*}
given by the nonzero class in $\left[ \BGL_n(\R), B\Z/2 \right] = \Z/2$. This is called the \textit{determinant bundle} or the \textit{first Stiefel--Whitney class}.
\end{example}



\subsection{Motivation of what's to come}


\begin{question} By analogy to homotopy theory, we might ask, for a group scheme $G$, the following questions:
\begin{enumerate}
    \item Is there an analogous universal space $BG$ in algebraic geometry which classifies $G$-torsors?
    \item If so, can we classify $G$-torsors over $X$ via some ``homotopy classes'' of maps from $X$ to $BG$?
\end{enumerate}
\end{question}





The answer to both will be yes, but \textit{not in the category of varieties}. We need more machinery than is available to us there.

\section{\sectionheader Torsors II: Simplicial methods}


\begin{definition} We denote by $\DDelta$ the category whose objects are finite ordered sets of the form $[n] = \left\{ 0<1< \cdots<n \right\}$, and whose morphisms $[n] \to [m]$ are order-preserving maps.
\end{definition}

\begin{notation} Let $\mathscr{C}$ be a category. Then we refer to a functor $\DDelta \to \mathscr{C}$ as a \textit{cosimplicial object} of $\mathscr{C}$, and a functor $\DDelta^\op \to \mathscr{C}$ as a \textit{simplicial object} of $\mathscr{C}$.
\end{notation}

\begin{intuition} We should think about a (co)simplicial object as a \textit{data type} ---  it is a combinatorial gadget that is surprisingly convenient for bookkeeping and appears frequently in nature. We'll see quite a few examples, but let's first see how to compress this data.
\end{intuition}

There are a priori a lot of order-preserving functions $[n] \to [m]$, so we'd like a nice class of easy-to-manage morphisms in $\DDelta$ so that any morphism factors into nice morphisms. These fall in two classes:

\begin{terminology} $\ $
\begin{enumerate}
    \item We have \textit{coface} maps $d^i \colon [n] \to [n+1]$ for $0\le i\le n+1$ which are defined by the property that they miss the element $i\in [n+1]$.

    \item We have \textit{codegeneracy} maps $s^j \colon [n] \to [n-1]$ for $0\le j\le n-1$ defined by the property that they are surjective and that $s^j(j) = s_j(j+1)$.
\end{enumerate}
\end{terminology}

\begin{example} The coface maps $d^i \colon [2] \to [3]$ look like
\[ \begin{tikzcd}[row sep=small]
    0\bullet\ar[dr,"d^0" above right] & \bullet 0\\
    1\bullet\ar[dr] & \bullet1\\
    2\bullet\ar[dr] & \bullet2\\
    & \bullet3\\
\end{tikzcd} \qquad \begin{tikzcd}[row sep=small]
    0\bullet\rar["d^1" above] & \bullet 0\\
    1\bullet\ar[dr] & \bullet1\\
    2\bullet\ar[dr] & \bullet2\\
    & \bullet3\\
\end{tikzcd} \qquad \begin{tikzcd}[row sep=small]
    0\bullet\rar["d^2" above] & \bullet 0\\
    1\bullet\rar & \bullet1\\
    2\bullet\ar[dr] & \bullet2\\
    & \bullet3\\
\end{tikzcd} \qquad \begin{tikzcd}[row sep=small]
    0\bullet\rar["d^3" above] & \bullet 0\\
    1\bullet\rar & \bullet1\\
    2\bullet\rar & \bullet2\\
    & \bullet3\\
\end{tikzcd} \]
\end{example}
\begin{example} The codegeneracy maps $[3] \to [2]$ look like
\[ \begin{tikzcd}[row sep=small]
    0\bullet\rar["s^0" above] & \bullet 0\\
    1\bullet\ar[ur] & \bullet1\\
    2\bullet\ar[ur] & \bullet2\\
    3\bullet\ar[ur]& \\
\end{tikzcd} \qquad
\begin{tikzcd}[row sep=small]
    0\bullet\rar["s^1" above] & \bullet 0\\
    1\bullet\rar & \bullet1\\
    2\bullet\ar[ur] & \bullet2\\
    3\bullet\ar[ur]& \\
\end{tikzcd} \qquad 
\begin{tikzcd}[row sep=small]
    0\bullet\rar["s^2" above] & \bullet 0\\
    1\bullet\rar & \bullet1\\
    2\bullet\rar & \bullet2\\
    3\bullet\ar[ur]& \\
\end{tikzcd} \]
\end{example}

\begin{terminology} Let $X_\bullet \colon \DDelta^\op \to \mathscr{C}$ denote a simplicial object.
\begin{enumerate}
    \item We use the notation $X_n$ to denote the object $X_\bullet([n])$ in $\mathscr{C}$.
    \item We denote by $d_i \colon X_n \to X_{n-1}$ for $0\le i\le n$ the image of the coface map $d^i$. We call $d_i$ a \textit{face map}
    \item Similarly we denote by $s_i \colon X_n \to X_{n+1}$ for $0\le i\le n$ the image of the codegeneracy map $s^i$, and call $s_i$ a \textit{degeneracy map}.
\end{enumerate}
\end{terminology}

\begin{exercise} Convince yourself that every map in $\DDelta$ factors into face and degeneracy maps, and therefore any simplicial object $X_\bullet$ in $\mathscr{C}$ can be described by the data of $X_n$ for each $n$, and its face and degeneracy maps.\footnote{%
Any time we define a simplicial object via this compressed data, we should check that the simplicial identities hold, although we'll mostly omit these arguments here.}
\end{exercise}

\begin{definition} If $\mathscr{C}$ is a locally small category with all finite products (binary products and a terminal object), then a \textit{group object} in $\mathscr{C}$ is the data of an object $G\in \mathscr{C}$ together with morphisms
\begin{align*}
    m \colon G \times G &\to G \\
    e \colon 1 \to G \\
    i \colon G \to G
\end{align*}
called multiplication, identity, and inverse, such that the following diagrams commute.
\[ \begin{tikzcd}
    G \times G \times G\rar["\id \times m"]\dar["m \times \id" left] & G \times G\dar["m" right]\\
    G \times G\rar["m" below] & G
\end{tikzcd} \quad\quad  \begin{tikzcd}
    G\rar["e \times \id" above]\dar["\id \times e" left]\ar[dr,"\id" above right] & G \times G\dar["m" right]\\
    G \times G\rar["m" below] & G
\end{tikzcd} \quad\quad  \begin{tikzcd}
    G\rar["i \times \id"]\dar["\id \times i" left]\ar[dr,"e" above right] & G \times G\dar["m" right]\\
    G\times G\rar["m" below] & G
\end{tikzcd} \]
\end{definition}


\begin{example} Let $G$ be a group object in a category $\mathscr{C}$ as above. Then we can define a simplicial object
\begin{align*}
    B_\bullet G \colon \DDelta^\op &\to \mathscr{C} \\
    [n] &\mapsto G^{\times n},
\end{align*}
as:
\[ \begin{tikzcd}[column sep=small]
    \ast\rar & G\lar[shift left=\theshiftamount]\lar[shift right=\theshiftamount]\rar[shift left=\theshiftamount]\rar[shift right=\theshiftamount] & G \times G \lar \lar[shift left=2*\theshiftamount]\lar[shift right=2*\theshiftamount]
\end{tikzcd} \]
Explicitly, $B_n G = G^{\times n}$, with face maps $d_i \colon G^{\times n} \to G^{\times(n-1)}$ given by
\begin{align*}
    d_i (g_1, \ldots, g_n) &=  \begin{cases}
    (g_2, \ldots, g_n) & i=0 \\
    (g_1, \ldots, g_i g_{i+1},g_{i+2}, \ldots, g_{n}) &  1\le i\le n-1 \\
    (g_1, \ldots, g_{n-1}) & i=n,\end{cases}
\end{align*}
and degeneracies $s_i \colon G^{\times n} \to G^{\times(n+1)}$ given by
\begin{align*}
    s_i(g_1, \ldots, g_n) &= \begin{cases}
    (e,g_1, \ldots, g_n) & i=0 \\
    (g_1, \ldots, g_i,e,g_{i+1}, \ldots, g_n) & 1\le i\le n.
    \end{cases}
\end{align*}
Note that $d_1 \colon G^{\times 2} \to G$ is precisely the group multiplication, while $s_0 \colon \ast \to G$ is the identity on the group.
\end{example}

\begin{exercise}\label{exer:simplicial-bar-construction-gp-object} 
Check the simplicial identities hold \textit{precisely} because of the group axioms. In particular, observe that we didn't use anything special about spaces --- if $G$ is a group object in any category $\mathscr{C}$ we obtain an associated bar construction which is a simplicial object in $\mathscr{C}$ that we call $B_{\bullet}G$.
\end{exercise}

\begin{example} (Important) For the formal categorical reason in \autoref{exer:simplicial-bar-construction-gp-object}, any group scheme $G$ gives rise to a simplicial scheme $B_\bullet G \in \Fun \left( \DDelta^\op, \Sch \right)$. This dates back at least to work of Friedlander \cite[Example~1.2]{Friedlander}. We'll use this object frequently.
\end{example}

\begin{example} Simplicial objects appeared crucially in Deligne's work on resolution of singularities and mixed Hodge structures.
Let $X$ be a complete\footnote{$X$ is \textit{complete} if it is proper over the base \cite[p.~105]{Hartshorne}. This is a slightly more general notion than projective.} singular variety. Then we can ``replace'' $X$ with a simplicial variety
\[ \begin{tikzcd}[column sep=small]
    \cdots & X_2\rar\rar[shift right=2*\theshiftamount]\rar[shift left=2*\theshiftamount] & X_1\lar[shift right=\theshiftamount]\lar[shift left=\theshiftamount]\rar[shift right=\theshiftamount]\rar[shift left=\theshiftamount] & X_0,\lar
\end{tikzcd} \]
where each $X_i$ is smooth and projective. There is a cohomological descent spectral sequence computing the cohomology of $X$ in terms of the cohomology of the $X_n$'s. This dates back to SGA 4. Additionally, this replacement is the core idea of \textit{resolution of singularities}. Deligne uses these simplicial methods to endow singular varieties with Hodge structures, so-called \textit{mixed Hodge structures} \cite{Hodge3}.
\end{example}

\begin{example} Let $A_\bullet \colon \DDelta^\op \to \Ab$ be a simplicial abelian group. Then by taking the alternating sum of the face maps, we obtain a chain complex, purely by the simplicial identities. This assignment is functorial:
\begin{align*}
    \sAb &\to \Ch_{\ge 0}(\Ab) \\
    A_\bullet &\mapsto \left( A_n, \del = \sum_{i=0}^n (-1)^i d_i \right).
\end{align*}
The associated chain complex is called the \textit{Moore complex} of the simplicial abelian group. Two quick remarks about this:
\begin{enumerate}
    \item This works if we replace $\Ab$ by any abelian category.
    \item This process is invertible --- this implies that simplicial objects and connective chain complexes in any abelian category are equivalent.\footnote{%
    There's a small lie here, the actual functor exhibiting the equivalence is not the Moore complex but the \textit{normalized chains complex}, although the normalized chain complex maps to the Moore complex in a natural way, and this is a chain homotopy equivalence \cite[III.2.4]{GoerssJardine}, so they are essentially the same. This equivalence is the \textit{Dold--Kan theorem}. For more detail see \cite[\S III.2]{GoerssJardine}.}
    We will use this later, as we will want to construct certain simplicial objects in sheaves of abelian groups, and it will be more direct to construct them first as chain complexes, then pass through this equivalence.
\end{enumerate}
\end{example}

\begin{example}[\v{C}ech nerve $N_\bullet(U)$] A simplicial object can conveniently encode the data of an open cover, its intersections, triple intersections, etc.\footnote{%
    Technically it should be an \textit{augmented simplicial object} since we'd also like to remember the data of the maps $U_i \to X$.} For this, given an open cover $\{U_i \to X\}$ of a variety $X$, denote by $U_{ij} := U_i \times_{X} U_j$ the double overlaps, by $U_{ijk} := U_i \times_X U_j \times_X U_k$ the triple overlaps, and so on. We define a simplicial object
\[ \begin{tikzcd}[column sep=small]
    {\coprod_i U_i}\rar & {\coprod_{i,j}U_{ij}} \lar[shift left=\theshiftamount]\lar[shift right=\theshiftamount]\rar[shift left=\theshiftamount]\rar[shift right=\theshiftamount] & \coprod_{i,j,k} U_{ijk} \lar \lar[shift left=2*\theshiftamount]\lar[shift right=2*\theshiftamount] & \cdots 
\end{tikzcd} \]
The face maps are defined by omitting the $j$th index
\begin{align*}
    d_j \colon U_{i_1 \cdots i_n} \to U_{i_1 \cdots \widehat{i_j} \cdots i_n},
\end{align*}
and the degeneracy maps repeat the $j$th index
\begin{align*}
    s_j \colon U_{i_1 \cdots i_n} \to U_{i_1 \cdots i_{j-1} i_j i_j i_{j+1} \cdots i_n}.
\end{align*}
We call this the \textit{\v{C}ech nerve} associated to the cover, and we denote it by $N(\mathcal{U})$.
\end{example}




\subsection{More on simplicial sets} We denote by
\begin{align*}
    \sSet := \Fun(\DDelta^\op,\Set)
\end{align*}
the category of \textit{simplicial sets}. Given a simplicial set
\begin{align*}
    X_\bullet \colon \DDelta^\op &\to \Set \\
    [n] &\mapsto X_n,
\end{align*}
we call $X_n$ the set of \textit{$n$-simplices}.

\begin{example} Any set $Y$ gives rise to a constant simplicial set $\underline{Y}$, given by sending $[n] \mapsto Y$, and every morphism in $\DDelta$ to the identity on $Y$.
\end{example}

\begin{example} We denote by $\Delta^n$ the simplicial set
\begin{align*}
    \Delta^n := \Hom_{\DDelta}(-,[n]) \colon \DDelta^\op \to \Set.
\end{align*}
By the Yoneda lemma, we have a natural bijection
\begin{align*}
    \Hom_{\sSet}(\Delta^n, X_\bullet) \cong X_n
\end{align*}
for any $X_\bullet \in \sSet$.
\end{example}

There is a functor called \textit{geometric realization}, which ``assembles'' a simplicial set into a topological space: Let $\Delta^n_\text{top}$ denote the \textit{topological} $n$-simplex\footnote{This is the locus $\Delta^n_\mathrm{top}:=\left\{ (x_0, \ldots, x_{n+1}\in \R^{n+1} \colon \sum x_i = 1,\ x_i\ge0 \right\}$.}
\begin{align*}
    |-| \colon \sSet &\to \Top \\
    X_\bullet &\mapsto \amalg_{n\ge0} X_n \times \Delta^n_\mathrm{top}/\sim,
\end{align*}
where $\sim$ is
\begin{align*}
    (x,d_i u) \sim (d_i x,u) \quad\quad & x\in X_n,\, u\in \Delta_\mathrm{top}^{n-1} \\
    (y,s_i v)\sim (s_iy,v) \quad\quad  &y\in X_{n-1},\ v\in \Delta^n_\mathrm{top}.
\end{align*}
%
\begin{remark} We discussed this universal space $BG$ classifying principal $G$-bundles last week. We can define this as $BG := |B_\bullet G|$, i.e. it is the geometric realization of the bar construction for the group.\footnote{If $G$ is a discrete group this is literally correct. If $G$ is a topological group we have to modify the domain of geometric realization to be $|-| \colon \Fun(\DDelta^\op,\Top) \to \Top$ in order to get the correct definition.}
\end{remark}

\begin{definition}\label{def:simplicial-homotopy-sset} 
We say two maps $f,g \colon X_\bullet \to Y_\bullet$ are \textit{simplicially homotopic} if there is a map
\begin{align*}
    H \colon \Delta^1 \times X_\bullet \to Y_\bullet
\end{align*}
so that $H|_{\{0\} \times X_\bullet} = f$ and  $H|_{\{1\} \times X_\bullet} = g$.
\end{definition}

\begin{remark}
Unpacking this data, we can verify it is the same as asking for maps for every $n$:
\begin{align*}
    H_i^n \colon X_n &\to Y_{n+1} \quad\quad 0\le i\le n,
\end{align*}
so that $d_0 H_0^n = f_n$, and $d_{n+1}H_n^n = g_n$, and so that they satisfy the following relations with face and degeneracy maps:\footnote{%
This is in \cite[8.3.11]{Weibel}.
}
\begin{align*}
    d_i H_j^n &= \begin{cases}
    H_{j-1}^{n-1}d_i & i<j \\
    d_i H_{j-1}^n & i=j\ne 0 \\
    d_{j+1} H_{j+1} &= i = j+1,\ j\ne n \\
    H_{j}^{n-1} d_{i-1} & i > j+1.
    \end{cases} \\
    s_i H_j^N &= \begin{cases}
    H_{j+1}^{n+1} s_i & i\le j \\
    H_{j}^{n+1} s_{i-1} & i>j.
    \end{cases}
\end{align*}
This notion makes sense for maps between simplicial objects in any category, and it is called a \textit{simplicial homotopy}.
\begin{enumerate}
    \item A priori we should be careful calling it a homotopy, since it doesn't require us to have any notion of a model structure or higher-categorical structure in order to state, however we will see this won't be a problem.
    \item In the context of simplicial sets, this coincides with \autoref{def:simplicial-homotopy-sset}, as we can check (see e.g. \cite[8.3.12]{Weibel}).
    \item It is not true (even in simplicial sets) that this is an equivalence relation, and indeed it isn't. Nevertheless it generates one, so when we say ``up to simplicial homotopy'' we often mean with respect to the transitive closure of this relation.
\end{enumerate}
\end{remark}


\begin{theorem} Geometric realization preserves products.
\end{theorem}

\begin{corollary} Simplicial homotopies become honest homotopies of spaces after geometric realization.
\end{corollary}


\begin{remark} We can study simplicial sets up to homotopy or spaces up to homotopy, and in a sense that can be made precise, these are essentially the same theory.
\end{remark}

\begin{remark} Historically this connection between simplicial sets and spaces was part of a research program which used to be called ``combinatorial homotopy theory,'' led by Kan in the 1950's. % Goerss--Jardine p2
\end{remark}





\subsection{Torsors via simplicial maps}

The big takeaway of this entire section is the following:

\begin{theorem} Let $\mathcal{U} = \left\{ U_i \to X \right\}$ be a cover, and let $G$ be a group scheme over $X$. To any map from the \v{C}ech nerve to the bar construction, we can assign a \v{C}ech 1-cocycle
\begin{align*}
    \Hom_{\Fun(\DDelta^\op,\Var_k)}(N(\mathcal{U}), B_\bullet G) \to H^1(\mathcal{U},G),
\end{align*}
and this assignment is surjective.
\end{theorem}
\begin{proof} We'll figure out some what's happening in lower degrees first and use this to see how to define maps in general.

\textbf{Low-degree intuition}: To specify a map, we need to know what happens on each level, so let's consider the diagram:
\[ \begin{tikzcd}
N(\mathcal{U})= & \coprod_i U_i\dar\rar & \coprod_{i,j} U_{ij}\lar[shift left]\lar[shift right]\dar & \cdots \\
    BG= & \ast\rar & G \lar[shift left]\lar[shift right] & \cdots 
\end{tikzcd} \]
On 0-simplices, there is no data, and on 1-simplices, we are obtaining elements we will call $(g_{ij} \in \Hom(U_{ij},G))$. For each $i$, the degeneracy maps require the following diagram to commute.
\[ \begin{tikzcd}
    U_{i}\rar["s_0"]\dar & U_{ii}\dar["g_{ii}" right] & \\
    \ast\rar["e" below] & G,
\end{tikzcd} \]
which tells us that $g_{ii} = e$. That's about all we can learn from degeneracies. What happens on 2-cells? Let's consider the inner and outermost face maps $N_2(U) \to N_1(U)$:
\[ \begin{tikzcd}
    U_{jk}\dar["g_{jk}" left] & U_{ijk}\lar["d_0" above]\dar\\
    G & G \times G\lar["d_0 = \text{proj}_2" below]
\end{tikzcd} \quad\quad \quad\quad  \begin{tikzcd}
    U_{ij}\dar["g_{ij}" left] & U_{ijk}\lar["d_2" above]\dar\\
    G & G \times G\lar["d_2 = \text{proj}_1" below]
\end{tikzcd} \]
We've decorated the face maps on the bar construction to recall whether they are projection or multiplication. By the universal property of the product, $U_{ijk}\to G \times G$ is determined by its post-composition with the projections, hence it makes sense to call this map $(g_{ij}, g_{jk})$. The $d_1$ relation gives us
\[ \begin{tikzcd}
    U_{ik}\dar["g_{ik}"] & U_{ijk}\lar["d_1" above]\dar["{(g_{ij},g_{jk})}" right]\\
    G & G \times G\lar["d_1 = \text{mult}" below]
\end{tikzcd} \]
This implies that
\begin{align*}
    g_{ik} = g_{ij}g_{jk}.
\end{align*}
This is \textit{exactly the 1-cocycle condition} from \autoref{def:cech-cover-cohomology}. We claim that the remaining data of the map $N(\mathcal{U})_\bullet \to B_\bullet G$ is completely determined by this relation. In particular, every \v{C}ech 1-cocycle can be extracted from a map $N_\bullet(U) \to B_\bullet G$ by the above process.   

\textbf{In general}: It is now clear how to define the map $N_n \mathcal{U} \to B_n G$ --- its component on $U_{i_0 \cdots i_{n}}$ is given by the tuples of maps
\begin{align*}
    \prod_{j=0}^{n-1} g_{i_j i_{j+1} \colon }U_{i_0 \cdots i_{n}} &\to G^{\times n}.
\end{align*}
This clearly commutes with degeneracies, and commutes with face maps by universal property of the product and by the 1-cocycle relation. We see in fact that this map is well-defined if and only if the 1-cocycle condition holds.
\end{proof}


\begin{theorem} Two 1-cocycles for the cover $\mathcal{U}$ are cohomologous if and only if they are simplicially homotopic.
\end{theorem}
\begin{proof}[Proof sketch] Let $f,g \colon N(\mathcal{U})_\bullet \to B_\bullet G$ be two maps corresponding to 1-cocycles $(f_{ij})$ and $(g_{ij})$, respectively. Recall simplicial homotopy requires us to define maps $H^n_i \colon N(\mathcal{U})_n \to B_{n+1}G$ for $0\le i\le n$ so that $d_0 H_0 = f_n$, $d_{n+1} H_n = g_n$, and various other relations hold. Again let's start in low degrees to gain some intuition and then prove the theorem directly.

\textbf{Low-degree intuition}: Let's see what $H_0^0$ looks like:
\def\theshiftamount{1}
\[ \begin{tikzcd}
    {\coprod_i U_i}\rar\dar\ar[dr,"H^0_0" above right] & {\coprod_{i,j}U_{ij}} \lar[shift left=\theshiftamount]\lar[shift right=\theshiftamount]\rar[shift left=\theshiftamount]\rar[shift right=\theshiftamount]\dar\ar[dr,"{H^1_0,H^1_1}" above right] & \coprod_{i,j,k} U_{ijk} \lar \lar[shift left=2*\theshiftamount]\lar[shift right=2*\theshiftamount]\dar\ar[dr,"{H_0^2,H_1^2,H_2^2}" above right] & \cdots \\
    \ast\rar & G \lar[shift left=\theshiftamount]\lar[shift right=\theshiftamount]\rar[shift left=\theshiftamount]\rar[shift right=\theshiftamount] & G \times G \lar \lar[shift left=2*\theshiftamount]\lar[shift right=2*\theshiftamount] & \cdots 
\end{tikzcd} \]
\def\theshiftamount{2}
At level zero, the map $H^0_0$ specifies an element $\alpha_i \in G(U_i)$. Let's see what the degeneracy relations tell us at level one:
\[ \begin{tikzcd}
    {\coprod_i U_i}\ar[dr,"H^0_0" below left] & {\coprod_{i,j}U_{ij}} \lar[shift left=\theshiftamount,"d^1" description]\lar[shift right=\theshiftamount,"d^0" description]\dar\ar[dr,"{H^1_0,H^1_1}" above right] &  \\
     & G & G \times G \lar["d_1" description] \lar[shift left=\theshiftamount,"d_2" below]\lar[shift right=\theshiftamount,"d_0" above] & \cdots 
\end{tikzcd} \]
Since $H_i^1$ is mapping into a product, it is determined by its projections, which are post-composing with $d_2$ and $d_0$, respectively. From the relations and the simplicial homotopy condition, we get
\begin{align*}
    d_0 H_0^1 &= f_{ij} \\
    d_2 H_0^1 &= H_0^0 d_1 = \alpha_i,
\end{align*}
so $H_0^1$ is the tuple $(\alpha_i,f_{ij}) \colon U_{ij} \to G \times G$.\footnote{There's abuse of notation here with $\alpha_i$.} Similarly we compute
\begin{align*}
    d_0 H_1^1 &= H_0^0 d_0 = \alpha_j \\
    d_2 H_1^1 &= g_{ij},
\end{align*}
 
so $H^1_1 = (g_{ij},\alpha_j) \colon U_{ij} \to G \times G$. The remaining relation states that
\begin{align*}
    d_1 H_1^1 &= d_1 H_0^1,
\end{align*}
and since $d_1$ is the multiplication $G \times G \to G$, this tells us that $\alpha_i f_{ij} = g_{ij}\gamma_j$, which is the coboundary condition.

\textbf{Exercise}: Show that, as maps $U_{i_0 i_1 i_2} \to G \times G \times G$, we have
\begin{align*}
    H_0^2 &= \left( \alpha_{i_0}, f_{i_0 i_1}, f_{i_1 i_2} \right) \\
    H_1^2 &= \left( g_{i_0 i_1}, \alpha_{i_1}, f_{i_1 i_2} \right) \\
    H_2^2 &= \left( g_{i_0 i_1}, g_{i_1 i_2}, \alpha_{i_2} \right).
\end{align*}
%
\textbf{In general}: We define
\begin{align*}
    H^n_j \colon U_{i_0 i_1 \cdots i_n} \to G^{\times (n+1)}
\end{align*}
by
\begin{align*}
    \left(g_{i_0 i_1}, \ldots, g_{i_{j-1} i_j},\alpha_{i_j}, f_{i_j i_{j+1}}, \ldots, f_{i_{n-1} i_n} \right).
\end{align*}
We verify that the relevant relations hold if and only if the coboundary condition $\alpha_i f_{ij} = g_{ij} \alpha_j$ holds for every $i,j$.
%
\end{proof}

\begin{motivation} 
Last week we asked for a universal space $BG$ so that homotopy classes of maps $X \to BG$ classifies $G$-torsors, and we're getting close! We now have a fantastic candidate for $BG$, namely the bar construction $B_\bullet G$ above. However we (1) didn't have a notion of homotopy of maps to witness two torsors being equivalent, and (2) we were mapping from $N(\mathcal{U})$, \textit{not} from $X$. To that end, let's write down what we're looking for.
\end{motivation}

\textbf{Wishlist}: We want some nice category $\mathscr{C}$ where both $X$ and $B_\bullet G$ live (so our category should contain simplicial varieties), and we want our category to have a notion of \textit{equivalence} with the following properties:
\begin{enumerate}
    \item Two maps $N(\mathcal{U}) \to B_\bullet G$ are homotopic in $\mathscr{C}$ if and only if they classify cohomologous $G$-torsors. We want to make this notion of homotopy precise.
    \item In $\mathscr{C}$, we have that $X \simeq N(\mathcal{U})$, i.e. a variety is equivalent to the \v{C}ech nerve of any cover over it, so that up to homotopy, we can classify torsors via maps $X \to B_\bullet G$.
\end{enumerate}

Let's preview how this is going to go --- the category $\Var_k$ of $k$-varieties doesn't support a nice homotopy theory, nor does simplicial varieties $\Fun(\DDelta^\op, \Var_k)$. So what we could do instead is replace each variety by its representable presheaf (functor of points, for the algebraic geometers). The Yoneda embedding $\Var_k \to \Fun(\Var_k^\op,\Set)$ then induces a functor
\begin{align*}
    \Fun(\DDelta^\op, \Var_k) \to \Fun(\DDelta^\op, \Fun(\Var_k^\op,\Set).
\end{align*}
Doing some adjoint business, we get that this latter category is equivalent to
\begin{align*}
    \Fun(\Var_k^\op, \Fun(\DDelta^\op, \Set)) = \Fun(\Var_k^\op, \sSet).
\end{align*}
So altogether we get a Yoneda embedding
\begin{align*}
    \Var_k \hookto \Fun(\Var_k^\op, \sSet).
\end{align*}
This latter category is called the category of \textit{simplicial presheaves}, or in higher category language it is just denoted $\Pre(\Var_k)$, and called the $\infty$-category of ($\infty$-)presheaves. It comes with a notion of homotopy coming from simplicial homotopy theory. We'll see that this was not only a nice well-behaved way to access homotopy theory starting from $\Var_k$, it was actually the \textit{universal} way to do this (see e.g. \cite{Dugger-univ}).

This category $\Pre(\Var_k)$ will take care of item (1) on our checklist! After we define what homotopy means there, homotopic maps in this category will give isomorphic torsors.

This doesn't take care of point (2), and we shouldn't really expect it to. The equivalence between a variety and the \v{C}ech nerve of the cover should depend on \textit{what covers are permissible}. In other words, it should bake in the Grothendieck topology somehow. We'll see that we can get point (2) (while retaining a notion of homotopy compatible with that of presheaves) by passing to the category of \textit{sheaves} in our site. We'll make all this precise soon.


\section{\sectionheader Torsors III: Sites, sheaves, and Hilbert 90}

We have seen that $H^1(X,G)$ classifies $G$-torsors for $X$, but we've been a little vague about Grothendieck topologies (i.e. what kinds of covers are we considering for our varieties). Today we'll make things more precise.


\begin{definition} Let $\mathscr{C}$ be a category with pullbacks. Then a \textit{Grothendieck topology} $\tau$ consists of collections of morphisms $\left\{ U_i \to X \right\}_{i\in I}$ in $\mathscr{C}$ called \textit{covers} or \textit{coverings}, satisfying the following properties:
\begin{enumerate}
    \item \textit{Closure under pullbacks}: If $\left\{ U_i \to X \right\}_{i\in I}$ is a covering and $f \colon Y \to X$ is any morphism, then the collection of base change morphisms $\left\{ U_i \times_X Y \to Y \right\}_{i\in I}$ is a covering.
    \item \textit{Closure under refinement}: If $\left\{ U_i \in X \right\}$ is a covering and $\left\{ V_{ij} \to U_i \right\}_j$ is a covering for each $i$, then the composite $\left\{ V_{ij} \to U_i \to X \right\}_{i,j}$ is a covering
    \item \textit{Isomorphisms}: Any isomorphism $f\colon Y \xto{\sim} X$ gives a one-element cover $\left\{ Y \to X \right\}$.
\end{enumerate}
A pair of a category and a topology $(\mathscr{C},\tau)$ is called a \textit{site}.
\end{definition}

\begin{example} A \textit{Zariski cover} is a collection of open immersions $\left\{ U_i \to U \right\}$ which are jointly surjective. This generates the \textit{Zariski site} on $\Sch_S$.
\end{example}

\begin{example} An \textit{\'etale cover} is a collection of \'etale morphisms, jointly surjective.
\end{example}

\begin{example} A \textit{Nisnevich cover} is a collection of \'etale morphisms $\left\{ U_i \to U \right\}$ so that for each $x\in X$ there exists an $i$ and a $y\in U_i$ so that $y\mapsto x$ induces an isomorphism on residue fields.
\end{example}

\begin{note} If $R\to S$ is an \'etale ring extension, then $\Spec(S) \to \Spec(R)$ is an \'etale cover but not necessarily a Nisnevich cover. For example $\Spec(L) \to \Spec(k)$ is \'etale if $L/k$ is a finite separable extension, but not Nisnevich unless $k=L$.
\end{note}

\begin{example} \cite[021M]{Stacks} An \textit{fppf cover} is a jointly surjective collection of morphisms $\left\{ U_i \xto{f_i} U \right\}$ so that each $f_i$ is flat and locally of finite presentation.
\end{example}

\begin{example} \cite[03NW]{Stacks} An \textit{fpqc cover} is a jointly surjective collection of morphisms $\left\{ U_i \xto{f_i} U \right\}$ so that $\amalg_i U_i \to X$ is faithfully flat and quasi-compact.
\end{example}

\begin{example} A map $\Spec(S) \to \Spec(R)$ is an fpqc cover if and only if the ring map $R\to S$ is faithfully flat.
\end{example}



\begin{terminology} If $t$ and $\tau$ are two Grothendieck topologies, we write $t\le \tau$ if every $t$-cover is a $\tau$-cover. We say $t$ is \textit{coarser} than $\tau$ or that $\tau$ \textit{refines} $t$ in this case.
\end{terminology}

\begin{proposition} We have that
\begin{align*}
    \Zar \le \Nis \le \et \le \fppf \le \fpqc.
\end{align*}
For more topologies see \href{https://pbelmans.ncag.info/topologies-comparison/}{Belmans: topologies comparison}.
\end{proposition}

\begin{question} If $t \le \tau$ then what is the difference between $t$-torsors and $\tau$-torsors?
\end{question}

Let's break this into two parts

\subsection{Torsors in finer topologies}

\begin{proposition}\label{prop:torsor-in-finer-topology-if-sheaf} 
Let $\mathscr{C}$ be some fixed category of schemes, with topologies $t$ and $\tau$. Let $\mathcal{G}$ be a sheaf of groups in the $\tau$-topology. Let $\mathcal{F}$ be a $\mathcal{G}$-torsor in the $t$-topology. Then $\mathcal{F}$ is also a $\tau$-torsor if $\mathcal{F}$ is a $\tau$-sheaf.
\end{proposition}
\begin{proof} The only thing that could fail is the sheaf condition in the definition. If $\mathcal{F}$ is a $t$-torsor, then there exists a $t$-cover $\left\{ U_i \to U \right\}$ trivializing $\mathcal{F}$, and this is also a $\tau$-cover since $\tau$ refines $t$. 
\end{proof}

We want to make some guarantee that $\mathcal{G}$ will still be a sheaf in a finer topology. In our cases, we care about the case where $\mathcal{G}$ is representable, and a classical result guarantees this for us.

\begin{theorem}\label{thm:fpqc-subcanonical} 
(Grothendieck, \cite[023Q]{Stacks}) Every representable presheaf is a sheaf in the fpqc topology (and hence in any coarser topology, e.g. Zariski, Nisnevich, \'etale, syntomic, fppf).
\end{theorem}

\begin{corollary} Let $G$ be an affine group scheme, and let $t \le \tau \le \fppf$. Then every $t$-torsor is a $\tau$-torsor.
\end{corollary}
\begin{proof} Let $\mathcal{F}$ be a $G$-torsor. By \autoref{prop:affine-gp-torsors-representable} it is representable, hence it is a sheaf in the $\tau$ topology as well by \autoref{thm:fpqc-subcanonical}. Therefore by \autoref{prop:torsor-in-finer-topology-if-sheaf} it is also a $\tau$-torsor.
\end{proof}

\subsection{Torsors in coarser topologies}

Now we're interested in the reverse question --- when $t\le \tau$, when is a $\tau$-torsor a $t$-torsor? The only thing that could fail is condition (2) of \autoref{def:torsor}, so we get the following answer/definition.


\begin{definition} Let $t\le \tau$ be topologies on a fixed category of schemes $\mathscr{C}$, let $\mathcal{G}$ be a $\tau$-sheaf of groups and let $\mathcal{F}$ be a $\mathcal{G}$-torsor. Then $\mathcal{F}$ is a $t$-torsor if and only if there exists a $t$-cover over which $\mathcal{F}$ is trivialized. We say $\mathcal{F}$ is \textit{locally trivial in the} $t$\textit{-topology}.
\end{definition}

We can now leverage some tools from algebraic geometry to prove this.

\begin{proposition} Every smooth morphism of schemes admits a section \'etale-locally.
\end{proposition}

\begin{corollary} If $G$ is a smooth group scheme, then there is an equivalence of categories between \'etale $G$-torsors and fppf-torsors.
\end{corollary}
\begin{proof} See \cite[Proposition~4]{chd} for a proof.
\end{proof}

We can summarize what we've learned in the following cheatsheet:

\input{cheatsheets/topologies}



\subsection{Special algebraic groups}


\begin{definition} We say an algebraic group (a group object in varieties) over a field $k$ is \textit{linear} if it admits a faithful finite-dimensional representation (c.f. \cite[p.~72]{MilneAG}).
\end{definition}

\begin{note} If an algebraic group is linear, it is automatically affine (\cite[1.29]{MilneAG}) and finite type. Also, all linear algebraic groups are closed subgroups of $\GL_n$.
\end{note}


\begin{proposition} Every affine group scheme of finite type over a field $k$ is linear (\cite[4.8]{MilneAG}).
\end{proposition}



\begin{definition} \cite[p.~5-11]{Grothendieck-torsion} A group scheme is called \textit{special} if it is a linear algebraic group $G$ with the property that every $G$-torsor\footnote{Since $G$ is affine, every $G$-torsor in $\tau\le \fppf$ is automatically a principal $G$-bundle.} is locally trivial in the Zariski topology.
\end{definition}

\begin{theorem} \cite[Th\'eor\`eme~3]{Grothendieck-torsion} The group $\GL_n$ is special.
\end{theorem}

\begin{corollary} \cite[11.4]{MilneLEC} There is a natural bijection
\begin{align*}
    H^1_\Zar(X,\GL_n) \leftrightarrow H^1_\Nis(X,\GL_n) \leftrightarrow H^1_\et(X,\GL_n) \leftrightarrow H^1_{\fpqc}(X,\GL_n).
\end{align*}
\end{corollary}

Hence any of the groups above can be thought of as parametrizing isomorphism classes of \textit{algebraic vector bundles} on $X$.





\section{\sectionheader Infinity categories}

\begin{example} If $\mathscr{C}$ is a small 1-category, it gives rise to a simplicial set $N_\bullet \mathscr{C}$, called the \textit{nerve} of $\mathscr{C}$, with the following data:
\begin{itemize}
    \item 0-simplices = objects of $\mathscr{C}$
    \item 1-simplices = morphisms in $\mathscr{C}$
    \item 2-simplices = pairs of composable morphisms $x \xto{f} y \xto{g} z$ in $\mathscr{C}$
    \item[$\vdots$]
    \item $n$-simplices = strings of $n$-composable morphisms
\end{itemize}
Here the degeneracy maps $(N\mathscr{C})_n \to (N\mathscr{C})_{n+1}$ insert an identity, while the face maps $(N\mathscr{C})_n \to (N\mathscr{C})_{n-1}$ compose maps. Observe that in $\mathscr{C}$, composition happens \textit{strictly}, by which we mean there is no notion of homotopy between maps --- if $x \xto{f} y \xto{g} z$ is a composite of maps, and $h \colon x \to z$, then either $h = g\circ f$, or it is not equal, and this is encoded by the data of a \textit{unique} 2-cell:
\[ \begin{tikzcd}
     & y\ar[dr,"g" above right]\\
    x\ar[ur,"f" above left]\ar[rr,"h" below] &  & z.
\end{tikzcd} \]
We think about this 2-cell as a \textit{witness} for the composition. Note that if no 2-cell exists filling the diagram above, this means that $h$ is not equal to $g\circ f$. It is just some other map from $x$ to $z$.
\end{example}

\begin{example} If $\mathscr{C}$ is a one-object groupoid (e.g. a group $G$), then $N_\bullet \mathscr{C}$ is the bar construction of $G$, and its realization $B \mathscr{C} := |N_\bullet \mathscr{C}|$ is called the \textit{classifying space} of the category. Some examples:
\begin{enumerate}
    \item $BC_2 = \RP^\infty$
    \item $B \mathbb{N} = S^1$
    \item $B\Z = S^1$
    \item $B (\bullet \to \bullet) = \Delta^1_\text{top}$
    \item $B (\bullet \xto{\sim} \bullet) = S^\infty$
    \item $B\text{PBr}_n = \text{Conf}_n(\R^2)$
\end{enumerate}
\end{example}



\textbf{Q}: Given a simplicial set, when can you tell whether it arose as the nerve of a 1-category?

\textbf{A}: Given any diagram of the form $\bullet \to \bullet \to \bullet$, it has to fill in uniquely to a 2-cell. But we also need to fill in composites of three morphisms uniquely (to get a tetrahedron), and composites of four morphisms, and so on. To that end, let $\Lambda^k_n$ be the simplicial set obtained from $\Delta^n$ by deleting the $k$th face. This is called a \textit{horn}.

This isn't a definition of a horn --- we might instead characterize the horns by their representable functors, i.e. $\Hom_{\sSet}(\Lambda_2^1,-)$ represents the set of ``composable'' edges $x \xto{f} y \xto{g} z$ in any simplicial set.

\begin{proposition} A simplicial set $X_\bullet$ is the nerve of a 1-category if and only if it admits \textit{unique inner horn filling}, meaning for every $n$ and every $0 < k < n$, given any map $\Lambda^k_n \to X_\bullet$ it admits a unique lift:
\[ \begin{tikzcd}
    \Lambda^k_n\rar\dar & X_\bullet\\
    \Delta^n\ar[ur,dashed] & 
\end{tikzcd} \]
\end{proposition}



\begin{example} Let $X$ be a topological space. Then it gives rise to a simplicial set called its \textit{fundamental $\infty$-groupoid} $\Pi_{\infty} X$, with the data
\begin{itemize}
    \item 0-simplices = points $x \in X$
    \item 1-simplices = paths $x$ to $y$ in $X$
    \item 2-simplices = homotopies between paths
    \item 3-simplices = homotopies between homotopies between paths
    \item[$\vdots$]
\end{itemize}
Note that a 2-cell is no longer unique! There can be many homotopies between paths. In particular composition of paths isn't well-defined, in the sense that many paths can function naturally as a composite. We might define $g\circ f$ to be any path together with a 2-cell making the diagram commute:
\[ \begin{tikzcd}
     & y\ar[dr,"g" above right]\\
    x\ar[ur,"f" above left]\ar[rr,dashed] &  & z.
\end{tikzcd} \]
In order to specify a composite now, we need to give the data not only of the 1-cell but also of the 2-cell! This is the vibe of higher-categorical composition. Note that horns don't fill uniquely here.
\end{example}

\begin{exercise} If you're familiar with the singular chains construction
\begin{align*}
    |-| \colon \sSet \leftrightarrows \Top \noloc \Sing(-),
\end{align*}
convince yourself that $\Sing(-)$ is the same as $\Pi_\infty(-)$.
\end{exercise}


\begin{definition} A \textit{quasicategory} is any simplicial set with (not necessarily unique) inner horn filling. We denote by $\qCat \subseteq \sSet$ the full subcategory on the quasi-categories.
\end{definition}

A natural question to ask is to what extent there is ambiguity in composition -- how many choices do we have for horn filling? Do different choices \textit{mean} different things? The following proposition answers this to some extent.

\begin{proposition} (Joyal) If $\mathscr{C}$ is a quasi-category, then the map of simplicial sets
\begin{align*}
    \Fun(\Delta^2,\mathscr{C})\to \Fun(\Lambda_2^n,\mathscr{C})
\end{align*}
has contractible fibers.\footnote{In fact $\mathscr{C}$ is a quasi-category if and only if this holds.}

% todo add reference -- this is 3.4 and 3.5 in https://arxiv.org/pdf/1303.4669
\end{proposition}





\begin{definition} A \textit{Kan complex} is a quasi-category which also has \textit{outer horn filling}, meaning we have a lift
\[ \begin{tikzcd}
    \Lambda^k_n\rar\dar & X_\bullet\\
    \Delta^n\ar[ur,dashed] & 
\end{tikzcd} \]
not only for $0<k<n$, but also for $k=0,n$. For $n=2$, this means we are also allowed to fill the horns:
\[ \begin{tikzcd}
     & \bullet\\
    \bullet\ar[ur]\ar[rr] & & \bullet
\end{tikzcd} \quad\quad \quad\quad  \begin{tikzcd}
    & \bullet\ar[dr] & \\
    \bullet\ar[rr] & & \bullet
\end{tikzcd} \]
\end{definition}



\begin{exercise} Show a Kan complex is the nerve of a 1-groupoid if and only if its horn filling is unique.
\end{exercise}

\textbf{The homotopy hypothesis}: The functor
\begin{align*}
    (\Top,\text{weak equiv}) &\to (\Kan, \text{weak equiv}) \\
    X &\mapsto \Pi_\infty(X)
\end{align*}
yields an equivalence of $\infty$-categories.\footnote{%
We haven't defined what we mean by $\Top$ or $\Kan$ as an $\infty$-category, and it's a bit subtle. We want to incorporate the weak equivalences, so really we should take the hammock localization of $\Kan$ at the simplicial weak equivalences, then take its homotopy coherent nerve, but fibrantly replace $L^W\Kan$ first before taking $N_\Delta$ so that the resulting simplicial set is an honest quasi-category. An analogous procedure should be carried out with topological spaces, assuming we work with all spaces and not just CW complexes.
}
Hence we can think about spaces as Kan complexes without much loss of generality. We use $\mathcal{S}$ to denote the $\infty$-category of spaces.

\begin{remark} (On other models of $\infty$-categories) There are a ton of different models of $\infty$-categories, we stick with quasi-categories since they have become the standard to some extent. The main advantage is that functors are much easier to describe -- they are just maps of the underlying simplicial sets. Functor $\infty$-categories $\Fun(\mathscr{C},\mathscr{D})$ between two quasi-categories are simply given by the internal hom in simplicial sets.
\end{remark}

\begin{proposition} If $\mathscr{C}$ is a quasi-category and $S$ is any simplicial set, then the internal hom $\Fun(S,\mathscr{C})$ is also a quasi-category. We think about this as ``$S$-shaped diagrams in $\mathscr{C}$.''
\end{proposition}



\subsection{Homotopy in an $\infty$-category}



\begin{definition}\label{def:homotopy-category-of-quasicategory} 
Let $\mathscr{C}$ be a quasi-category. We define its \textit{homotopy category}, denoted $h\mathscr{C}$ to be the category freely generated by the 1-truncation $\tau_{\le 1} \mathscr{C}$, modulo the relations coming from 2-simplices.
\end{definition}

\begin{definition} We say that a morphism $f \colon x \to y$ in a quasi-category $\mathscr{C}$ is an \textit{isomorphism/equivalence} if there exists some $g \colon y \to x$ so that $[gf]=\id_x$ and $[fg]=\id_y$ in $h\mathscr{C}$. Note that $g$ is \textit{not uniquely defined}, unlike in ordinary 1-category theory.
\end{definition}

\begin{remark} We should think about this less like isomorphisms in 1-categories, and more like homotopy equivalences in topology.
\end{remark}

\begin{example} A morphism $f\colon X\to Y$ between CW complexes is a (weak) homotopy equivalence if and only if $[f]$ is an isomorphism in $h\Top$. Hence the ``isomorphisms'' in the $\infty$-category of spaces are not homeomorphisms but rather homotopy equivalences.
\end{example}


\begin{proposition} There is an adjunction\footnote{%
If we consider the codomain of the nerve construction to be all simplicial sets, it still admits a left adjoint called the homotopy category, however it is not given by the formula in \autoref{def:homotopy-category-of-quasicategory}. Technically there is a more general construction $h \colon \sSet\to \Cat$, which is left adjoint to $N$, and which agrees with \autoref{def:homotopy-category-of-quasicategory}, which we should call $\tau_{\le 1}$, when the simplicial set is a quasi-category. We'll only apply the homotopy category construction to quasi-categories here so this distinction won't matter.
}


\begin{align*}
    h\colon \qCat \leftrightarrows \Cat \noloc N.
\end{align*}
\end{proposition}

\begin{remark} We recall that the nerve is fully faithful. This is equivalent to the counit of the adjunction being a natural isomorphism:
\begin{align*}
    hN\mathscr{C} \xto{\sim} \mathscr{C},
\end{align*}
in other words any 1-category can be recovered as the homotopy category of its nerve.
\end{remark}

\begin{example} Let $R$ be any ring. Then its category of chain complexes $\Ch(R)$ is naturally an $\infty$-category, and the notion of homotopy recovers the idea of chain homotopy equivalence. We have to be careful constructing this explicitly, refer to \S13 of DAG for more info.
\end{example}


\subsection{Mapping spaces}


We want to make precise the model of quasi-categories as $(\infty,1)$-categories. The vibe of higher categories is that homs in 1-categories are 0-categories (sets). Homs in 2-categories are 1-categories, homs in 3-categories are 2-categories, etc. Hence homs in $(\infty,1)$-categories should be $(\infty,0)$-categories. From the models we're working in:

\begin{center} 
\begin{tabular}{l  l  l}
$(\infty,1)$-categories & = & quasi-categories \\
$(\infty,0)$-categories & = & Kan complexes,
\end{tabular}
\end{center}
hence we want to argue that, for any quasicategory $\mathscr{C}$, and any pair of objects (0-simplices) $x,y\in \mathscr{C}$, there is a mapping space $\Map_\mathscr{C}(x,y)$ which is a Kan complex.



\begin{definition} For $x,y\in \mathscr{C}$, where $\mathscr{C}$ is a quasicategory, we denote by $\Map_{\mathscr{C}}(x,y)$ the pullback in simplicial sets:
\[ \begin{tikzcd}
    {\Map_{\mathscr{C}}(x,y)}\rar\dar\pb & {\Fun(\Delta^1,\mathscr{C})}\dar["{(\ev_0,\ev_1)}" right]\\
    {\{x,y\}}\rar & \mathscr{C} \times \mathscr{C}.
\end{tikzcd} \]
Here $\Fun(\Delta^1,\mathscr{C})$ denotes an internal hom from the interval $\Delta^1$ to $\mathscr{C}$. The rightmost vertical map is what's called a \textit{bifibration} (the proof that this map is a bifibration is \cite[2.4.7.11]{HTT}), which in particular means that $\Map_{\mathscr{C}}(x,y)$ is a Kan complex.
\end{definition}

\begin{intuition} The mapping space is intended to generalize the idea of the homotopy category, in the sense that
\begin{align*}
    \pi_0 \Map_\mathscr{C}(x,y) = \Hom_{h\mathscr{C}}(x,y).
\end{align*}
In particular its connected components correspond to homotopy classes of maps between $x$ and $y$, but it remembers more information about \textit{how} the homotopies were witnessed, encoded in the higher homotopy type of $\Map_\mathscr{C}(x,y)$.
\end{intuition}




\begin{remark} 
Alternatively we may define $\Map_\mathscr{C}(x,y)$ as the simplicial set whose $n$-simplices are given by the set of all
\begin{align*}
    z \colon \Delta^{n+1} \to \mathscr{C},
\end{align*}
with the $\{n+1\}$-vertex mapping to $y$, and the vertices $\left\{ 0, \ldots, n \right\}$ mapping to $x$. 
Technically speaking this is the space of \textit{right morphisms} but when $\mathscr{C}$ is an $\infty$-category this models the mapping space (it is canonically isomorphic in the homotopy category). As an exercise, verify that $\Map_{\mathscr{C}}(x,y)$ is indeed a Kan complex from the definition.
\end{remark}

What is $\Map_\mathscr{C}(x,y)$ intended to capture? Its 0-simplices are maps from $x$ to $y$ \textit{in the homotopy category} $h\mathscr{C}$. In other words, they are equivalence classes of zig-zags of morphisms in $\mathscr{C}$ from $x$ to $y$, where maps going the wrong way are all invertible.

\begin{notation} If $\mathscr{C}$ is an $\infty$-category and $x,y\in\mathscr{C}$, we denote by
\begin{align*}
    \left[ x,y \right] := \pi_0 \Map_{\mathscr{C}}(x,y).
\end{align*}
We call this \textit{homotopy classes of maps} from $x$ to $y$.
\end{notation}

\begin{warning} It is not true that $\left[ x,y \right]_\mathscr{C}$ is simply the edges from $x$ to $y$ in the quasi-category $\mathscr{C}$ modulo an equivalence relation, it is more subtle. In the presence of a model structure, we can replace $x$ and $y$ by equivalent objects $Qx$ and $Ry$ respectively, so that $\left[ x,y \right] \cong \left[ Qx,Ry \right]$, and this latter set can be literally identified with the 1-cells $Qx \to Ry$ in $\mathscr{C}$ modulo an explicit equivalence relation. We'll come back to this when we talk about sheaves.
\end{warning}


\subsection{Presentable $\infty$-categories}

Modulo some set-theoretic technicalities, we can now be content with the existence of a model for infinity-categories. All notions of functors, colimits, adjunctions, etc. should now be understood in the higher categorical sense, i.e. up to higher coherence.

\begin{definition} \cite[5.4.2.1]{HTT} An $\infty$-category is \textit{accessible} if it is generated under $\kappa$-filtered colimits by a small category.
\end{definition}

\begin{example}\label{ex:spaces-presentable}  The category $\mathcal{S}$ of spaces is presentable, since it admits all colimits and every space is built out of finite CW complexes.
\end{example}

\begin{remark} By \cite[5.4.3.6]{HTT}, a small $\infty$-cat is accessible if and only if it is idempotent complete.\footnote{Idempotent complete has a number of definitions, in particular it implies that idempotent endomorphisms $f \colon X \to X$ (i.e. $f\circ f = f$) correspond bijectively to retracts of $X$, i.e. composites $Y \hookto X \to Y$. If $\mathscr{C}$ is idempotent complete then it is closed under retracts.} Observe that the category of finitely generated free $R$-modules fail to contain retracts (projectives) so they're not idempotent complete and hence not accessible.
\end{remark}


\begin{definition}\label{def:presheaves}  Given any $\infty$-category $\mathscr{C}$, we denote by $\Pre(\mathscr{C}) := \Fun(\mathscr{C}^\op, \mathcal{S})$ the category of ($\infty$-)\textit{presheaves}.
\end{definition}


\begin{example}\label{ex:presheaves-presentable} By the previous two examples, $\Pre(\mathscr{C})$ is presentable for any $\mathscr{C}$. This is the coYoneda lemma --- that any presheaf is a colimit of representable ones.
\end{example}

\begin{example} We can think about presheaves of simplicial sets $\Fun(\Sch_S^\op, \sSet)$ as the presheaf category $\Pre(\Sch_S)$. Note what lives in here:
\begin{enumerate}
    \item Schemes all live in here via the Yoneda embedding $\Sch_S \hookto \Fun(\Sch_S^\op, \Set) \subseteq \Fun(\Sch_S^\op, \sSet)$, by viewing $\Set \subseteq \sSet$ as discrete simplicial sets (no non-degenerate $n$-simplices for $n\ge 1$).
    \item \textit{Simplicial schemes} also live in here, by moving some adjoint stuff around:
    \begin{align*}
        \Fun(\DDelta^\op, \Sch_S) \xhookto{y} \Fun(\DDelta^\op, \Fun(\Sch_S^\op, \Set)) \cong \Fun(\Sch_S^\op, \Fun(\DDelta^\op, \Set)) = \Pre(\Sch_S).
    \end{align*}
    %
    \item Spaces (viewed as simplicial sets by $\Pi_\infty$) live in here as constant presheaves $\sSet \hookto \Fun(\Sch_S^\op, \sSet)$.
\end{enumerate}
Thus we have a natural home for schemes and spaces, as well as these simplicial scheme data types we've been looking at.
\end{example}


\begin{definition}\label{def:presentable} We say an $\infty$-category $\mathscr{C}$ is \textit{presentable} if it is accessible and admits all colimits (cocomplete).
\end{definition}

\begin{theorem}\label{thm:aft} \textit{(Adjoint functor theorem)} Let $F \colon \mathscr{C} \to \mathscr{D}$ be a functor between presentable categories. Then
\begin{itemize}
    \item $F$ admits a right adjoint if and only if $F$ preserves all colimits
    \item $F$ admits a left adjoint if and only if it preserves all limits and $\kappa$-filtered colimits
\end{itemize}
\end{theorem}

Really hard to write down functors explicitly in quasi-categories, since we are writing down a map of simplicial sets, which is a lot of data. AFT is nice because it lets us get functors without writing them explicitly, but they are still characterized by being adjoints.

\begin{notation}\label{nota:PrL}  We denote by $\Pr^L$ the category of presentable $\infty$-categories and colimit-preserving functors between them. Note every functor in $\Pr^L$ is a left adjoint.
\end{notation}


\subsection{Localization}

\begin{definition} \cite[5.2.7.2]{HTT} A functor $f \colon \mathscr{C}\to \mathscr{D}$ is a \textit{localization} if it admits a fully faithful right adjoint.
\end{definition}

In many cases a localization is given by inverting a class of morphisms in $\mathscr{C}$. In particular let $S \subseteq \mor \mathscr{C}$ be a class of morphisms in $\mathscr{C}$, then we can try to \textit{invert} $S$ by cooking up a new category $\mathscr{C}[S^{-1}]$.


\begin{definition} \cite[5.5.4.1]{HTT} Let $S \subseteq \mor \mathscr{C}$. We say $z\in \mathscr{C}$ is $S$\textit{-local} if for every $s \colon x \to y$ in $S$, the induced map
\begin{align*}
    \Map_{\mathscr{C}}(y,z) \to \Map_{\mathscr{C}}(x,z)
\end{align*}
is an equivalence.
\end{definition}

\begin{remark} Let $\mathscr{C}_0 \subseteq \mathscr{C}$ be the full subcategory of $S$-local objects. If this admits a left adjoint, it makes sense to call that adjoint $L_S$, that is, $S$-localization, since it inverts every morphism in $S$. \textit{This is where presentable categories give us an advantage}. In general arguing for the existence of a left adjoint isn't easy, however if $\mathscr{C}$ is presentable, then the adjoint functor theorem tells us that we just have to check the inclusion $\mathscr{C}_0 \subseteq \mathscr{C}$ preserves limits and filtered colimits.
\end{remark}
Let $\mathscr{C}_0 \subseteq \mathscr{C}$ be the full subcategory of $S$-local objects. If this admits a left adjoint, it makes sense to call that adjoint $L_S$, that is, $S$-localization, since it inverts every morphism in $S$.

\begin{proposition} \cite[5.5.4.15]{HTT} If $\mathscr{C}$ is presentable and $S \subseteq \mor \mathscr{C}$ is small, then the inclusion of the full subcategory of $S$-local objects admits a left adjoint.\footnote{The terminology for this is that $\mathscr{C}_0 \subseteq \mathscr{C}$ is a \textit{reflective subcategory}.}
\end{proposition}

\begin{example} In the next talk, our primary application of this machinery will be looking at the presheaf category $\Pre(\mathscr{C})$, which is presentable by \autoref{ex:presheaves-presentable}. We can look at full subcategories of presheaves which satisfy a certain sheaf condition and argue this is a reflective subcategory hence we will have an adjoint we call \textit{sheafification}.
\end{example}

\begin{remark} Given a class of arrows $S \subseteq \mor \mathscr{C}$, we can always form $\mathscr{C}[S^{-1}]$ by adjoining formal inverses to $S$ and considering all composites of morphisms in $\mathscr{C}$ and formal inverses (zig-zags). This is called \textit{Dwyer--Kan localization} or \textit{hammock localization}. This satisfies the correct universal property of localization, but we might encounter size issues. Bousfield localization is a particular example of Dwyer--Kan localization, but where we are able to guarantee that we don't encounter any size issues since the localization is a subcategory of the original category.
\end{remark}




\printbibliography
\end{document}
